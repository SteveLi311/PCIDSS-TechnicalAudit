git clone https://github.com/hophuongnam/PCI.DSS.git
-----------------------------------------------------------------------------------------------
gcloud projects get-iam-policy collab-testing-orange   --flatten="bindings[].members"   --filter="bindings.members:serviceAccount:pci-dss-assessor@collab-testing-orange.iam.gserviceaccount.com"   --format="table(bindings.role)"


pci-dss-assessor@collab-testing-orange.iam.gserviceaccount.com

gcloud auth activate-service-account pci-dss-assessor@collab-testing-orange.iam.gserviceaccount.com \
  --key-file=pci-dss-assessor-key.json

gcloud auth activate-service-account pci-dss-assessor@PROJECT_ID.iam.gserviceaccount.com \
  --key-file=pci-dss-assessor-key.json

gcloud auth activate-service-account pci-dss-assessor@sunpay-crm.iam.gserviceaccount.com \
  --key-file=pci-dss-assessor-key.json

gcloud auth activate-service-account pci-dss-assessor@esafe-crm.iam.gserviceaccount.com \
  --key-file=pci-dss-assessor-key.json


gcloud config set project PROJECT_ID
-----------------------------------------------------------------------------------------------
gcloud compute instances list   --project=PROJECT_ID   --format="table(name, zone, \
    networkInterfaces[0].network.scope():label=VPC_NAME, \
    networkInterfaces[0].subnetwork.scope():label=SUBNET_NAME, \
    networkInterfaces[0].networkIP:label=INTERNAL_IP)" > vm_vpc_subnet.txt

gcloud compute firewall-rules list   --project=PROJECT_ID   --format="table(name, direction, allowed[].IPProtocol:label=PROTOCOL, allowed[].ports:label=PORTS, sourceRanges:label=SRC_RANGES, destinationRanges:label=DST_RANGES, targetTags.list():label=TARGET_TAGS, targetServiceAccounts.list():label=TARGET_SA)" > fw.txt

gcloud compute instances list --format="table(name, tags.items)" --project=PROJECT_ID  > vm_tag.txt

gcloud compute instances list --project=PROJECT_ID  > vm_list.txt
-----------------------------------------------------------------------------------------------
gcloud projects add-iam-policy-binding collab-testing-orange \
  --member="serviceAccount:pci-dss-assessor@collab-testing-orange.iam.gserviceaccount.com" \
  --role="roles/iam.securityReviewer"



gcloud organizations add-iam-policy-binding ORG_ID \
  --member="serviceAccount:$SA_EMAIL" \
  --role="roles/viewer"

gcloud organizations add-iam-policy-binding ORG_ID \
  --member="serviceAccount:$SA_EMAIL" \
  --role="roles/iam.securityReviewer"

gcloud organizations add-iam-policy-binding ORG_ID \
  --member="serviceAccount:$SA_EMAIL" \
  --role="roles/logging.viewer"

gcloud organizations add-iam-policy-binding ORG_ID \
  --member="serviceAccount:$SA_EMAIL" \
  --role="roles/monitoring.viewer"

gcloud organizations add-iam-policy-binding ORG_ID \
  --member="serviceAccount:$SA_EMAIL" \
  --role="roles/cloudasset.viewer"

gcloud organizations add-iam-policy-binding ORG_ID \
  --member="serviceAccount:$SA_EMAIL" \
  --role="roles/accesscontextmanager.policyReader"


roles/viewer roles/iam.securityReviewer roles/logging.viewer roles/monitoring.viewer roles/cloudasset.viewer roles/accesscontextmanager.policyReader